<div
  class="container"
  style="margin-top: 60px"
  *ngIf="accountService.getRoles == 'Admin'"
>
  <h3 class="btn-danger" *ngIf="isAddMode">Add Product</h3>
  <h3 class="btn-danger" *ngIf="!isAddMode">Edit Product</h3>
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="form-row">
      <div class="form-group col-5">
        <label>Code</label>
        <input
          type="text"
          formControlName="code"
          class="form-control"
          [ngClass]="{ 'is-invalid': submitted && form.get('code')?.errors }"
        />
        <div
          *ngIf="submitted && form.get('code')?.errors"
          class="invalid-feedback"
        >
          <div *ngIf="form.get('code')?.hasError('required')">
            Code is required
          </div>
        </div>
      </div>
      <div class="form-group col-5">
        <label>Description</label>
        <input
          type="text"
          formControlName="description"
          class="form-control"
          [ngClass]="{
            'is-invalid': submitted && form.get('description')?.errors
          }"
        />
        <div
          *ngIf="submitted && form.get('description')?.errors"
          class="invalid-feedback"
        >
          <div *ngIf="form.get('description')?.hasError('required')">
            Description is required
          </div>
        </div>
      </div>
      <div class="form-group col-5">
        <label>Price</label>
        <input
          type="number"
          formControlName="price"
          class="form-control"
          [ngClass]="{ 'is-invalid': submitted && form.get('price')?.errors }"
        />
        <div
          *ngIf="submitted && form.get('price')?.errors"
          class="invalid-feedback"
        >
          <div *ngIf="form.get('price')?.hasError('required')">
            Price is required
          </div>
        </div>
      </div>
      <div class="form-group col-5">
        <label>Stock Qty</label>
        <input
          type="number"
          formControlName="stockqty"
          class="form-control"
          [ngClass]="{
            'is-invalid': submitted && form.get('stockqty')?.errors
          }"
        />
        <div
          *ngIf="submitted && form.get('stockqty')?.errors"
          class="invalid-feedback"
        >
          <div *ngIf="form.get('stockqty')?.hasError('required')">
            Quantity is required
          </div>
        </div>
      </div>
      <div class="form-group col-5">
        <label>ImageUrl</label>
        <input
          type="text"
          formControlName="imageUrl"
          class="form-control"
          [ngClass]="{
            'is-invalid': submitted && form.get('imageUrl')?.errors
          }"
        />
        <div
          *ngIf="submitted && form.get('imageUrl')?.errors"
          class="invalid-feedback"
        >
          <div *ngIf="form.get('imageUrl')?.hasError('required')">
            ImageUrl is required
          </div>
        </div>
      </div>
      <div class="form-group col-5">
        <label>Category</label>
        <select
          formControlName="categoryid"
          class="form-control"
          (change)="changeCategory($event)"
          [ngClass]="{
            'is-invalid': submitted && form.get('categoryid')?.errors
          }"
        >
          <option value="">Choose Category</option>
          <option *ngFor="let c of categories" [ngValue]="c.id">
            {{ c.categoryname }}
          </option>
        </select>
        <div
          *ngIf="submitted && form.get('categoryid')?.errors"
          class="invalid-feedback"
        >
          <div *ngIf="form.get('categoryid')?.hasError('required')">
            Category is required
          </div>
        </div>
      </div>
    </div>
    <button class="btn btn-primary" type="submit">Save</button>
  </form>
</div>
